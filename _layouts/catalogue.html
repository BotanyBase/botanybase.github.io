---
layout: default
---

<!-- Search bar -->
<input type="search" id="search-input" placeholder="Search plants">

<!-- Climate filter -->
<select id="climate-filter">
  <option value="">All Climates</option>
  {% for climate in site.climates %}
    <option value="{{ climate }}">{{ climate }}</option>
  {% endfor %}
</select>

<!-- Plant entries container -->
<div class="plant-entries">
  {% for plant in site.plants | where: "climate", page.climate %}
    <h2>{{ plant.name }}</h2>
    <p>{{ plant.description }}</p>
    <img src="{{ plant.image }}" alt="{{ plant.name }}">
  {% endfor %}
</div>

<script>
  const searchInput = document.getElementById('search-input');
  const climateFilter = document.getElementById('climate-filter');
  const plantEntriesContainer = document.querySelector('.plant-entries');

  searchInput.addEventListener('input', searchAndFilter);
  climateFilter.addEventListener('change', searchAndFilter);

  function searchAndFilter() {
    const searchQuery = searchInput.value.toLowerCase();
    const selectedClimate = climateFilter.value;

    const filteredPlants = site.plants.filter(plant => {
      const plantName = plant.name.toLowerCase();
      return (plantName.includes(searchQuery) && 
        (selectedClimate === "" || plant.climate === selectedClimate));
    });

    plantEntriesContainer.innerHTML = ''; // clear the container
    filteredPlants.forEach(plant => {
      const plantEntryHTML = `
        <h2>${plant.name}</h2>
        <p>${plant.description}</p>
        <img src="${plant.image}" alt="${plant.name}">
      `;
      const plantEntryElement = document.createElement('div');
      plantEntryElement.innerHTML = plantEntryHTML;
      plantEntriesContainer.appendChild(plantEntryElement);
    });
  }
</script>
