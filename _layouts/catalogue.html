---
layout: default
---

{{ content }}

<input type="search" id="search-input" placeholder="Search plants">

<section class="plant-entries">

</section>

<script>
const searchInput = document.getElementById('search-input');
const plantEntriesContainer = document.querySelector('.plant-entries');

searchInput.addEventListener('input', () => {
  const searchString = searchInput.value.toLowerCase();
  loadPlants(searchString, 0); // load initial plants
});

function loadPlants(searchString, offset) {
  fetch('data/plants.json')
    .then(response => response.json())
    .then(data => {
      const filteredPlants = data.filter(plant => {
        const plantName = plant.name.toLowerCase();
        return plantName.includes(searchString);
      });
      appendPlantsToContainer(filteredPlants);
    });
}

function appendPlantsToContainer(plants) {
  const plantEntriesContainer = document.querySelector('.plant-entries');
  plantEntriesContainer.innerHTML = ''; // clear the container
  plants.forEach(plant => {
    const plantEntryHTML = `
      <h2>${plant.name}</h2>
      <p>${plant.description}</p>
      <img src="${plant.image}" alt="${plant.name}">
    `;
    const plantEntryElement = document.createElement('div');
    plantEntryElement.innerHTML = plantEntryHTML;
    plantEntriesContainer.appendChild(plantEntryElement);
  });
}
</script>
