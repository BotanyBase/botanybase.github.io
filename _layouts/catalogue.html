---
layout: default
---

{{ content }}

<input type="search" id="search-input" placeholder="Search plants">

<!-- catalogue.html -->

<!-- Get the climate variable from the front matter -->
{% assign climate = page.climate | default: "All Climates" %}

<!-- Filter the plants by climate -->
{% assign filtered_plants = site.plants | where: "climate", climate %}

<!-- Display the filtered plants -->
{% for plant in filtered_plants %}
  <h2>{{ plant.name }}</h2>
  <p>{{ plant.description }}</p>
{% endfor %}

<script>
const searchInput = document.getElementById('search-input');
const plantEntriesContainer = document.querySelector('.plant-entries');

searchInput.addEventListener('input', () => {
  const searchString = searchInput.value.toLowerCase();
  const filteredPlants = filtered_plants.filter(plant => {
    const plantName = plant.name.toLowerCase();
    return plantName.includes(searchString);
  });
  appendPlantsToContainer(filteredPlants);
});

function appendPlantsToContainer(plants) {
  plantEntriesContainer.innerHTML = ''; // clear the container
  plants.forEach(plant => {
    const plantEntryHTML = `
      <h2>${plant.name}</h2>
      <p>${plant.description}</p>
      <img src="${plant.image}" alt="${plant.name}">
    `;
    const plantEntryElement = document.createElement('div');
    plantEntryElement.innerHTML = plantEntryHTML;
    plantEntriesContainer.appendChild(plantEntryElement);
  });
}
</script>
